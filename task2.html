<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>senla 2</title>
</head>

<body>
    <p>senla 2</p>
    <div>
        <input id="textInput" type="text" name="a">
        <button>Отправить</button>

        <table id="result">
        </table>
    </div>
    <script>
        var btn = document.body.querySelector("button")
        var result = document.getElementById("result");
        var elementInput = document.getElementById("textInput")
        elementInput.addEventListener('input', handleInput);
        btn.addEventListener('click', onClick);

        function handleInput(e) {
            inputValue = e.target.value;
        }

        function getRandomColor() {
            var letters = '0123456789ABCDEF';
            var color = '#';
            for (var i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function onClick(){
            while (result.firstChild) {
                result.removeChild(result.firstChild);
            }

            for(var i =0; i < inputValue; i++) {
                var td = document.createElement("td");
                var row = document.createElement('tr');
                for (var j = 0; j < inputValue; j++) {
                    td.style = "width: 70px; height: 70px; background-color:" + getRandomColor();
                    row.appendChild(td.cloneNode())
                }
                result.appendChild(row);                
            }
        }
    </script>
</body>

</html>